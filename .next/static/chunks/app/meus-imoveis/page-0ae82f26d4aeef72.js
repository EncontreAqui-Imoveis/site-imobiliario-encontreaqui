(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{3569:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var a=t(5155),r=t(2115),l=t(63),i=t(2619),n=t.n(i),c=t(6191),d=t(3581),o=t(9408),m=t(5380),x=t(960);function p(){let e=(0,l.useRouter)(),{user:s,isAuthenticated:t,isLoading:i}=(0,m.A)(),[p,h]=(0,r.useState)([]),[u,g]=(0,r.useState)(!0),[y,b]=(0,r.useState)("all");(0,r.useEffect)(()=>{i||t||e.push("/login?redirect=/meus-imoveis")},[i,t,e]),(0,r.useEffect)(()=>{s&&f()},[s]);let f=async()=>{if(s){g(!0);try{let e=localStorage.getItem("token");if(e){let t=await x.propertiesApi.getByOwner(s.id,e);h(Array.isArray(t.data)?t.data:[])}}catch(e){console.error("Error fetching properties:",e),h([])}finally{g(!1)}}},v=p.filter(e=>"all"===y||e.status===y);return i?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):t?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 pt-20 pb-12",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Meus Im\xf3veis"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Gerencie seus an\xfancios"})]}),(0,a.jsxs)(n(),{href:"/anuncie",className:"inline-flex items-center gap-2 px-6 py-3 bg-accent-500 hover:bg-accent-600 text-primary-900 font-semibold rounded-xl transition-colors shadow-lg shadow-accent-500/20",children:[(0,a.jsx)(c.A,{className:"w-5 h-5"}),"Novo An\xfancio"]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-4 mb-6 border border-gray-100 flex flex-wrap gap-4 items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Status:"})]}),(0,a.jsx)("div",{className:"flex gap-2",children:[{value:"all",label:"Todos"},{value:"pending_approval",label:"Em An\xe1lise"},{value:"approved",label:"Aprovados"},{value:"rejected",label:"Rejeitados"}].map(e=>(0,a.jsx)("button",{onClick:()=>b(e.value),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(y===e.value?"bg-primary-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e.label},e.value))})]}),u?(0,a.jsx)("div",{className:"text-center py-20",children:(0,a.jsx)("div",{className:"w-10 h-10 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto"})}):v.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(s=>(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden group hover:shadow-lg transition-shadow",children:[(0,a.jsxs)("div",{className:"aspect-[4/3] bg-gray-200 relative overflow-hidden",children:[s.images&&s.images[0]?(0,a.jsx)("img",{src:s.images[0],alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,a.jsx)(o.A,{className:"w-12 h-12"})}),(0,a.jsx)("div",{className:"absolute top-3 left-3",children:(e=>{switch(e){case"pending_approval":return(0,a.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-semibold rounded-full",children:"Em An\xe1lise"});case"approved":return(0,a.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-full",children:"Aprovado"});case"rejected":return(0,a.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-semibold rounded-full",children:"Rejeitado"});default:return(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-semibold rounded-full",children:e})}})(s.status)})]}),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 truncate",children:s.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-3 truncate",children:[s.address,", ",s.city]}),s.price_sale&&(0,a.jsx)("p",{className:"text-lg font-bold text-green-600",children:Number(s.price_sale).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),s.price_rent&&(0,a.jsxs)("p",{className:"text-lg font-bold text-green-600",children:[Number(s.price_rent).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),"/m\xeas"]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-4 pt-4 border-t border-gray-100",children:[(0,a.jsx)("button",{onClick:()=>e.push("/meus-imoveis/".concat(s.id,"/editar")),className:"flex-1 py-2 text-sm font-medium text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",children:"Editar"}),(0,a.jsx)("button",{onClick:()=>e.push("/imoveis/".concat(s.id)),className:"flex-1 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Ver"})]})]})]},s.id))}):(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-12 text-center border border-gray-100",children:[(0,a.jsx)(o.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum im\xf3vel encontrado"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"all"===y?"Voc\xea ainda n\xe3o anunciou nenhum im\xf3vel.":"Nenhum im\xf3vel com este status."}),(0,a.jsxs)(n(),{href:"/anuncie",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary-900 hover:bg-primary-800 text-white font-semibold rounded-xl transition-colors",children:[(0,a.jsx)(c.A,{className:"w-5 h-5"}),"Anunciar Im\xf3vel"]})]})]})}):null}},3581:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},6191:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8629:(e,s,t)=>{Promise.resolve().then(t.bind(t,3569))},9408:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])}},e=>{e.O(0,[563,619,697,380,441,255,358],()=>e(e.s=8629)),_N_E=e.O()}]);