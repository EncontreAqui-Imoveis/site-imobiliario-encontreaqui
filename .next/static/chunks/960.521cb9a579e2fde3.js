"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[960],{960:(e,r,t)=>{async function o(e,r){try{let t=(null==r?void 0:r.body)instanceof FormData,o={...null==r?void 0:r.headers};t||(o["Content-Type"]="application/json");let a=await fetch("".concat("https://backend-production-6acc.up.railway.app").concat(e),{headers:o,...r});if(!a.ok){let r=await a.json().catch(()=>({}));return console.error("âŒ [API] Erro na requisi\xe7\xe3o:",{status:a.status,endpoint:e,errorData:r}),{error:r.message||"HTTP error ".concat(a.status),data:r}}let n=await a.text();if(!n)return{data:void 0};try{return{data:JSON.parse(n)}}catch(e){return{data:void 0}}}catch(e){return console.error("API error:",e),{error:"Erro de conex\xe3o. Tente novamente."}}}t.d(r,{Gp:()=>i,aE:()=>s,authApi:()=>n,propertiesApi:()=>a,vx:()=>c});let a={getAll:e=>{let r=e?"?".concat(new URLSearchParams(e)):"";return o("/properties".concat(r))},getById:e=>o("/properties/".concat(e)),getFeatured:()=>o("/properties?featured=true&limit=6"),getRecent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return o("/properties?status=approved&limit=".concat(e,"&sort=created_at:desc"))},search:e=>{let r=new URLSearchParams(e).toString();return o("/properties/search?".concat(r))},create:(e,r)=>o("/properties",{method:"POST",body:e instanceof FormData?e:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(r)}}),getByOwner:(e,r)=>o("/properties/me",{headers:{Authorization:"Bearer ".concat(r)}}),update:(e,r,t)=>{let a=r instanceof FormData;return o("/properties/".concat(e),{method:"PUT",body:a?r:JSON.stringify(r),headers:{Authorization:"Bearer ".concat(t)}})}},n={login:(e,r)=>o("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:r})}),register:e=>o("/auth/register",{method:"POST",body:JSON.stringify(e)}),checkEmailStatus:e=>o("/auth/check-email?email=".concat(encodeURIComponent(e.trim().toLowerCase()))),requestPasswordReset:e=>o("/auth/password-reset/request",{method:"POST",body:JSON.stringify({email:e})}),googleAuth:(e,r)=>o("/auth/google",{method:"POST",body:JSON.stringify({idToken:e,profileType:r})}),updateProfile:e=>{let r=localStorage.getItem("token");return r?o("/users/profile",{method:"PUT",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(r)}}):Promise.resolve({error:"N\xe3o autenticado"})},requestBrokerUpgrade:e=>{let r=localStorage.getItem("token");return r?o("/brokers/me/request-upgrade",{method:"POST",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(r)}}):Promise.resolve({error:"N\xe3o autenticado"})},uploadBrokerDocuments:e=>{let r=localStorage.getItem("token");if(!r)return Promise.reject(Error("N\xe3o autenticado"));let t=new FormData;return t.append("creci",e.creci),t.append("creciFront",e.creciFront),t.append("creciBack",e.creciBack),t.append("selfie",e.selfie),o("/brokers/me/verify-documents",{method:"POST",body:t,headers:{Authorization:"Bearer ".concat(r)}})}},i={getAll:e=>o("/users/favorites",{headers:{Authorization:"Bearer ".concat(e)}}),add:(e,r)=>o("/users/favorites/".concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(r)}}),remove:(e,r)=>o("/users/favorites/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r)}})},c={getAll:e=>o("/users/notifications",{headers:{Authorization:"Bearer ".concat(e)}}),markAsRead:(e,r)=>o("/users/notifications/".concat(e,"/read"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(r)}}),markAllAsRead:e=>o("/users/notifications/read-all",{method:"POST",headers:{Authorization:"Bearer ".concat(e)}})},s={getPerformanceReport:e=>o("/brokers/me/performance",{headers:{Authorization:"Bearer ".concat(e)}}),getCommissions:e=>o("/brokers/me/commissions",{headers:{Authorization:"Bearer ".concat(e)}})}}}]);